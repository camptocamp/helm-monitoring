{{- if .Values.elasticsearch.auth }}apiVersion: v1
kind: Secret
type: Generic
metadata:
  name: {{ include "common.fullname" ( dict "root" . "service" .Values ) }}-env
  labels: {{ include "common.labels" ( dict "root" . "service" .Values ) | nindent 4 }}
data:
  ES_AUTH: {{ ( printf "Basic %s" ( printf "%s:%s" .Values.elasticsearch.auth.user .Values.elasticsearch.auth.password ) | b64enc ) | b64enc | quote }}
{{- end }}
